<!DOCTYPE html>
<html lang="th">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á Vector Embeddings ‡∏à‡∏≤‡∏Å‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢ ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÑ‡∏ü‡∏•‡πå .txt ‡πÅ‡∏•‡∏∞ .docx" />
  <title>OpenClaw ‚Äî Thai Document Embeddings</title>
  <link rel="stylesheet" href="styles.css" />
  <!-- mammoth.js for Word (.docx) extraction -->
  <script src="https://cdn.jsdelivr.net/npm/mammoth@1.8.0/mammoth.browser.min.js"></script>
  <!-- Supabase JS client -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>

<body>

  <!-- Ambient background orbs -->
  <div class="orb orb-1" aria-hidden="true"></div>
  <div class="orb orb-2" aria-hidden="true"></div>

  <div class="app-wrapper">

    <!-- ‚îÄ‚îÄ Header ‚îÄ‚îÄ -->
    <header class="header fade-up">
      <div class="header-badge">
        <span class="dot"></span>
        Vector Embedding Engine ¬∑ phaya.io
      </div>
      <h1>‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÑ‡∏ó‡∏¢<br />‡πÄ‡∏õ‡πá‡∏ô Vector Embeddings</h1>
      <p>‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á embeddings ‡πÅ‡∏•‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏á Supabase ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö RAG</p>
      <div style="margin-top:16px;">
        <a href="chat.html" class="btn btn-secondary" style="text-decoration:none;">üí¨ ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏ä‡∏ó RAG ‚Üí</a>
      </div>
    </header>

    <!-- ‚îÄ‚îÄ Step 1: API Config ‚îÄ‚îÄ -->
    <section class="section card fade-up" style="animation-delay:80ms">
      <div class="card-title">
        <span class="icon">üîë</span>
        ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1 ‚Äî ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ API
        <span id="supabase-status" class="supabase-badge">‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Supabase‚Ä¶</span>
      </div>

      <div class="config-row">
        <!-- API Key -->
        <div>
          <label for="api-key">phaya.io API Key</label>
          <div class="input-wrapper">
            <input type="password" id="api-key" placeholder="pk_‚Ä¶" autocomplete="off" spellcheck="false" />
            <button class="toggle-btn" id="toggle-api-key" type="button" aria-label="‡πÅ‡∏™‡∏î‡∏á/‡∏ã‡πà‡∏≠‡∏ô API Key">üëÅ</button>
          </div>
        </div>

        <!-- Model display (fixed) -->
        <div>
          <label>Embedding Model</label>
          <div class="model-info-box" id="model-display">‚Ä¶</div>
        </div>

        <!-- Chunk settings button -->
        <div>
          <label>&nbsp;</label>
          <button class="btn btn-secondary" type="button" onclick="toggleChunkSettings()">‚öôÔ∏è ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Chunk</button>
        </div>
      </div>

      <!-- Chunk settings (collapsible) -->
      <div id="chunk-settings" style="display:none; margin-top:16px;">
        <div class="chunk-row">
          <div>
            <label for="chunk-size">‡∏Ç‡∏ô‡∏≤‡∏î Chunk (‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£)</label>
            <input type="text" id="chunk-size" value="500" />
          </div>
          <div>
            <label for="chunk-overlap">Overlap (‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£)</label>
            <input type="text" id="chunk-overlap" value="50" />
          </div>
        </div>
        <p style="font-size:12px;color:var(--text-muted);margin-top:8px;">
          ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: ‡∏Ç‡∏ô‡∏≤‡∏î 500 + overlap 50 ‚Üí ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° 1,000 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£ = ‚âà 2 chunks
        </p>
      </div>
    </section>

    <!-- ‚îÄ‚îÄ Step 2: Input ‚îÄ‚îÄ -->
    <section class="section card fade-up" style="animation-delay:160ms">
      <div class="card-title">
        <span class="icon">üìÇ</span>
        ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2 ‚Äî ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
      </div>

      <!-- Tabs -->
      <div class="tabs" role="tablist">
        <button class="tab-btn active" role="tab" data-tab="tab-file">üìÅ ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå</button>
        <button class="tab-btn" role="tab" data-tab="tab-text">‚úèÔ∏è ‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°</button>
      </div>

      <!-- Tab: File Upload -->
      <div id="tab-file" class="tab-panel active">
        <div class="dropzone" id="dropzone">
          <input type="file" id="file-input" accept=".txt,.docx" aria-label="‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£" />
          <span class="dropzone-icon">üóÇÔ∏è</span>
          <h3>‡∏•‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏°‡∏≤‡∏ß‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà ‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå</h3>
          <p>‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢ UTF-8</p>
          <div class="file-types">
            <span class="file-badge">.txt</span>
            <span class="file-badge">.docx</span>
          </div>
        </div>

        <!-- File info row -->
        <div class="file-info" id="file-info">
          <span class="file-icon" id="file-icon-display">üìÑ</span>
          <div class="file-details">
            <div class="file-name" id="file-name-display">‚Äî</div>
            <div class="file-meta" id="file-meta-display">‚Äî</div>
          </div>
          <button class="remove-btn" id="remove-file-btn" type="button">‚úï ‡∏•‡∏ö</button>
        </div>
      </div>

      <!-- Tab: Manual Text -->
      <div id="tab-text" class="tab-panel">
        <label for="manual-text">‡πÉ‡∏™‡πà‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢</label>
        <textarea id="manual-text" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏´‡∏£‡∏∑‡∏≠‡∏ß‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà‚Ä¶" rows="8"
          oninput="updateChunkPreview()"></textarea>
      </div>

      <!-- Status message -->
      <div class="status-msg" id="status-msg" role="alert"></div>

      <!-- Progress bar -->
      <div class="progress-wrap" id="progress-wrap">
        <div class="progress-bar" id="progress-bar"></div>
      </div>
      <div class="progress-label" id="progress-label"></div>

      <!-- Action bar -->
      <div class="action-bar">
        <div class="action-bar-left">
          <span id="chunk-preview-count" style="font-size:13px;color:var(--text-muted)"></span>
        </div>
        <button class="btn btn-primary btn-lg" id="embed-btn" type="button">
          ‚ú® ‡∏™‡∏£‡πâ‡∏≤‡∏á Embeddings &amp; ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å
        </button>
      </div>
    </section>

    <!-- ‚îÄ‚îÄ Step 3: Results ‚îÄ‚îÄ -->
    <section class="section results-section" id="results-section">
      <div class="results-header">
        <h2>üìä ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå Embeddings</h2>
        <div style="display:flex;gap:8px;flex-wrap:wrap;">
          <button class="btn btn-secondary" id="copy-json-btn" type="button">üìã ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å JSON</button>
          <button class="btn btn-secondary" id="download-json-btn" type="button">‚¨áÔ∏è ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î JSON</button>
          <button class="btn btn-ghost" id="download-txt-btn" type="button">üìù ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°</button>
          <a href="chat.html" class="btn btn-primary" style="text-decoration:none;">üí¨ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏ä‡∏ó ‚Üí</a>
        </div>
      </div>

      <!-- Supabase save status -->
      <div id="save-status" class="save-status"></div>

      <!-- Stats -->
      <div class="stats-row">
        <div class="stat-card">
          <div class="stat-value" id="stat-chunks">‚Äî</div>
          <div class="stat-label">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô Chunks</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="stat-chars">‚Äî</div>
          <div class="stat-label">‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="stat-dims">‚Äî</div>
          <div class="stat-label">‡∏°‡∏¥‡∏ï‡∏¥ Embedding</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="stat-model" style="font-size:16px;">‚Äî</div>
          <div class="stat-label">Model</div>
        </div>
      </div>

      <!-- Chunks list -->
      <div class="card" style="padding:20px;">
        <div class="chunks-header">
          <h3>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ Chunks &amp; Embeddings</h3>
        </div>
        <div class="chunks-list" id="chunks-list"></div>
      </div>
    </section>

    <!-- ‚îÄ‚îÄ Footer ‚îÄ‚îÄ -->
    <footer class="footer">
      <p>OpenClaw RAG ¬∑ powered by <strong>phaya.io</strong> Qwen3 Embedding 8B ¬∑ Vector DB by <strong>Supabase</strong>
      </p>
    </footer>

  </div><!-- /.app-wrapper -->

  <script src="config.js"></script>
  <script src="app.js"></script>
  <script>
    function toggleChunkSettings() {
      const el = document.getElementById("chunk-settings");
      el.style.display = el.style.display === "none" ? "block" : "none";
    }
  </script>

</body>

</html>